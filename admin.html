<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>SkySafe Config Admin</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="p-8 bg-gray-50">
  <h1 class="text-3xl font-bold mb-4">SkySafe Config Editor</h1>
  <textarea id="configEditor" class="w-full h-96 p-4 border rounded-lg font-mono"></textarea>
  <div class="mt-4 flex gap-4">
    <button onclick="commitConfig()" class="bg-blue-600 text-white px-4 py-2 rounded">COMMIT (Download HTML)</button>
    <button onclick="loadConfig()" class="bg-gray-600 text-white px-4 py-2 rounded">EDIT (Reload Config)</button>
  </div>

  <script>
    async function loadConfig() {
      const response = await fetch('config.json');
      const data = await response.json();
      document.getElementById('configEditor').value = JSON.stringify(data, null, 2);
    }

    function commitConfig() {
      const blob = new Blob([document.getElementById('configEditor').value], { type: "application/json" });
      const link = document.createElement("a");
      link.href = URL.createObjectURL(blob);
      link.download = "config.json";
      link.click();
    }

    loadConfig();
  </script>
</body>
</html>
